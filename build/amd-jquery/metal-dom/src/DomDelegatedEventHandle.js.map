{"version":3,"sources":["DomDelegatedEventHandle.js"],"names":["DomDelegatedEventHandle","emitter","event","listener","opt_selector","selector_","data","get","emitter_","selector","arr","delegating","event_","selectors","listeners","key","remove","listener_","length"],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAWMA,uB;;;AACL;;;;;;;;;AASA,mCAAYC,OAAZ,EAAqBC,KAArB,EAA4BC,QAA5B,EAAsCC,YAAtC,EAAoD;AAAA;;AAAA,iJAC7CH,OAD6C,EACpCC,KADoC,EAC7BC,QAD6B;;AAEnD,SAAKE,SAAL,GAAiBD,YAAjB;AAFmD;AAGnD;;AAED;;;;;;;oCAGiB;AAChB,QAAIE,OAAO,kBAAQC,GAAR,CAAY,KAAKC,QAAjB,CAAX;AACA,QAAIC,WAAW,KAAKJ,SAApB;AACA,QAAIK,MAAM,qBAASD,QAAT,IAAqBH,KAAKK,UAAL,CAAgB,KAAKC,MAArB,EAA6BC,SAAlD,GAA8DP,KAAKQ,SAA7E;AACA,QAAIC,MAAM,qBAASN,QAAT,IAAqBA,QAArB,GAAgC,KAAKG,MAA/C;;AAEA,iBAAMI,MAAN,CAAaN,IAAIK,GAAJ,KAAY,EAAzB,EAA6B,KAAKE,SAAlC;AACA,QAAIP,IAAIK,GAAJ,KAAYL,IAAIK,GAAJ,EAASG,MAAT,KAAoB,CAApC,EAAuC;AACtC,YAAOR,IAAIK,GAAJ,CAAP;AACA;AACD;;;;;;mBAGaf,uB","file":"node_modules/metal-dom/src/DomDelegatedEventHandle.js","sourcesContent":["'use strict';\n\nimport { array, isString } from 'metal';\nimport domData from './domData';\nimport { EventHandle } from 'metal-events';\n\n/**\n * This is a special EventHandle, that is responsible for dom delegated events\n * (only the ones that receive a target element, not a selector string).\n * @extends {EventHandle}\n */\nclass DomDelegatedEventHandle extends EventHandle {\n\t/**\n\t * The constructor for `DomDelegatedEventHandle`.\n\t * @param {!Event} emitter Element the event was subscribed to.\n\t * @param {string} event The name of the event that was subscribed to.\n\t * @param {!Function} listener The listener subscribed to the event.\n\t * @param {string=} opt_selector An optional selector used when delegating\n\t *     the event.\n\t * @constructor\n\t */\n\tconstructor(emitter, event, listener, opt_selector) {\n\t\tsuper(emitter, event, listener);\n\t\tthis.selector_ = opt_selector;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tremoveListener() {\n\t\tvar data = domData.get(this.emitter_);\n\t\tvar selector = this.selector_;\n\t\tvar arr = isString(selector) ? data.delegating[this.event_].selectors : data.listeners;\n\t\tvar key = isString(selector) ? selector : this.event_;\n\n\t\tarray.remove(arr[key] || [], this.listener_);\n\t\tif (arr[key] && arr[key].length === 0) {\n\t\t\tdelete arr[key];\n\t\t}\n\t}\n}\n\nexport default DomDelegatedEventHandle;\n"],"sourceRoot":"/source/"}