{"version":3,"sources":["IncrementalDomUnusedComponents.js"],"names":["comps_","disposing_","IncrementalDomUnusedComponents","i","length","comp","isDisposed","getRenderer","getParent","element","dispose","comps","parent_","push"],"mappings":";AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,KAAIA,SAAS,EAAb;AACA,KAAIC,aAAa,KAAjB;;KAEMC,8B;;;;;;;mCAKkB;AACtB,QAAID,UAAJ,EAAgB;AACf;AACA;AACDA,iBAAa,IAAb;;AAEA,SAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIH,OAAOI,MAA3B,EAAmCD,GAAnC,EAAwC;AACvC,SAAIE,OAAOL,OAAOG,CAAP,CAAX;AACA,SAAI,CAACE,KAAKC,UAAL,EAAD,IAAsB,CAACD,KAAKE,WAAL,GAAmBC,SAAnB,EAA3B,EAA2D;AAC1D;AACA;AACAH,WAAKI,OAAL,GAAe,IAAf;AACAJ,WAAKK,OAAL;AACA;AACD;AACDV,aAAS,EAAT;AACAC,iBAAa,KAAb;AACA;;;4BAOeU,K,EAAO;AACtB,SAAK,IAAIR,IAAI,CAAb,EAAgBA,IAAIQ,MAAMP,MAA1B,EAAkCD,GAAlC,EAAuC;AACtC,SAAI,CAACQ,MAAMR,CAAN,EAASG,UAAT,EAAL,EAA4B;AAC3BK,YAAMR,CAAN,EAASI,WAAT,GAAuBK,OAAvB,GAAiC,IAAjC;AACAZ,aAAOa,IAAP,CAAYF,MAAMR,CAAN,CAAZ;AACA;AACD;AACD;;;;;;mBAGaD,8B","file":"node_modules/metal-incremental-dom/src/cleanup/IncrementalDomUnusedComponents.js","sourcesContent":["'use strict';\n\nvar comps_ = [];\nvar disposing_ = false;\n\nclass IncrementalDomUnusedComponents {\n\t/**\n\t * Disposes all sub components that were not rerendered since the last\n\t * time this function was scheduled.\n\t */\n\tstatic disposeUnused() {\n\t\tif (disposing_) {\n\t\t\treturn;\n\t\t}\n\t\tdisposing_ = true;\n\n\t\tfor (var i = 0; i < comps_.length; i++) {\n\t\t\tvar comp = comps_[i];\n\t\t\tif (!comp.isDisposed() && !comp.getRenderer().getParent()) {\n\t\t\t\t// Don't let disposing cause the element to be removed, since it may\n\t\t\t\t// be currently being reused by another component.\n\t\t\t\tcomp.element = null;\n\t\t\t\tcomp.dispose();\n\t\t\t}\n\t\t}\n\t\tcomps_ = [];\n\t\tdisposing_ = false;\n\t}\n\n\t/**\n\t * Schedules the given components to be checked and disposed if not used\n\t * anymore, when `IncrementalDomUnusedComponents.disposeUnused` is called.\n\t * @param {!Array<!Component>} comps\n\t */\n\tstatic schedule(comps) {\n\t\tfor (var i = 0; i < comps.length; i++) {\n\t\t\tif (!comps[i].isDisposed()) {\n\t\t\t\tcomps[i].getRenderer().parent_ = null;\n\t\t\t\tcomps_.push(comps[i]);\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport default IncrementalDomUnusedComponents;\n"],"sourceRoot":"/source/"}